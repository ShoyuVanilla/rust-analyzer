    Checking hir-ty v0.0.0 (/home/gh-jackh726/rust-analyzer/crates/hir-ty)
error[E0277]: the trait bound `rustc_type_ir::TypeFlags: std::hash::Hash` is not satisfied
   --> crates/hir-ty/src/interner.rs:47:1
    |
47  | / impl_internable!(
48  | |     InternedWrapper<Vec<VariableKind>>,
49  | |     InternedWrapper<(SmallVec<[GenericArg; 2]>, TypeFlags, DebruijnIndex)>,
50  | |     InternedWrapper<TyData>,
...   |
57  | |     InternedWrapper<SmallVec<[Variance; 16]>>,
58  | | );
    | |_^ the trait `std::hash::Hash` is not implemented for `rustc_type_ir::TypeFlags`
    |
    = help: the trait `std::hash::Hash` is implemented for `InternedWrapper<T>`
    = note: required for `(SmallVec<[GenericArg<Interner>; 2]>, TypeFlags, DebruijnIndex)` to implement `std::hash::Hash`
    = note: 1 redundant requirement hidden
    = note: required for `InternedWrapper<(SmallVec<[GenericArg<Interner>; 2]>, TypeFlags, ...)>` to implement `std::hash::Hash`
note: required by a bound in `Internable`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:23
    |
193 | pub trait Internable: Hash + Eq + 'static {
    |                       ^^^^ required by this bound in `Internable`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-9094223807857864684.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the macro `impl_internable` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:71:33
    |
71  |     type InternedSubstitution = Interned<InternedWrapper<SmallVec<[GenericArg; 2]>>>;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::hash::Hash`
note: required by a bound in `chalk_ir::interner::Interner::InternedSubstitution`
   --> /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/interner.rs:130:53
    |
130 |     type InternedSubstitution: Debug + Clone + Eq + Hash;
    |                                                     ^^^^ required by this bound in `Interner::InternedSubstitution`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
  --> crates/hir-ty/src/interner.rs:71:33
   |
71 |     type InternedSubstitution = Interned<InternedWrapper<SmallVec<[GenericArg; 2]>>>;
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   |
   = help: the following other types implement trait `Internable`:
             InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
             InternedWrapper<ConstScalar>
             InternedWrapper<SmallVec<[GenericDefId; 2]>>
             InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
             InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
             InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
             InternedWrapper<SmallVec<[predicate::Clause; 2]>>
             InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
           and 14 others
note: required by a bound in `Interned`
  --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
   |
26 | pub struct Interned<T: Internable + ?Sized> {
   |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:300:10
    |
300 |     ) -> Result<Self::InternedSubstitution, E> {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:304:46
    |
304 |     fn substitution_data(self, substitution: &Self::InternedSubstitution) -> &[GenericArg] {
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:123:20
    |
123 | pub struct Clauses(InternedClauses);
    |                    ^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `(DefWithBodyId, chalk_ir::Substitution<interner::Interner>, triomphe::Arc<TraitEnvironment>)` to implement `std::cmp::Eq`
note: required by a bound in `base_db::ra_salsa::Query::Key`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/lib.rs:449:38
    |
449 |     type Key: Clone + Debug + Hash + Eq;
    |                                      ^^ required by this bound in `Query::Key`
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `(ClosureId<Interner>, Substitution<Interner>, Arc<TraitEnvironment>)` to implement `std::cmp::Eq`
note: required by a bound in `base_db::ra_salsa::Query::Key`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/lib.rs:449:38
    |
449 |     type Key: Clone + Debug + Hash + Eq;
    |                                      ^^ required by this bound in `Query::Key`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-7780650351737274082.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `(GeneralConstId, Substitution<Interner>, Option<Arc<...>>)` to implement `std::cmp::Eq`
note: required by a bound in `base_db::ra_salsa::Query::Key`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/lib.rs:449:38
    |
449 |     type Key: Clone + Debug + Hash + Eq;
    |                                      ^^ required by this bound in `Query::Key`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-8237702119031499615.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `(Arc<TraitEnvironment>, FunctionId, Substitution<Interner>)` to implement `std::cmp::Eq`
note: required by a bound in `base_db::ra_salsa::Query::Key`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/lib.rs:449:38
    |
449 |     type Key: Clone + Debug + Hash + Eq;
    |                                      ^^ required by this bound in `Query::Key`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-5322929017297980016.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:91:10
    |
91  |     ) -> (FunctionId, Substitution);
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
    = note: required because it appears within the type `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>)`
note: required by a bound in `base_db::ra_salsa::Query::Value`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/lib.rs:452:17
    |
452 |     type Value: Clone + Debug;
    |                 ^^^^^ required by this bound in `Query::Value`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `(hir_def::AdtId, chalk_ir::Substitution<interner::Interner>, triomphe::Arc<TraitEnvironment>)` to implement `std::cmp::Eq`
note: required by a bound in `base_db::ra_salsa::Query::Key`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/lib.rs:449:38
    |
449 |     type Key: Clone + Debug + Hash + Eq;
    |                                      ^^ required by this bound in `Query::Key`
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0308]: mismatched types
   --> crates/hir-ty/src/infer/expr.rs:719:40
    |
719 |                     .unwrap_or_else(|| Substitution::empty(Interner));
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `&Substitution<Interner>`, found `Substitution<Interner>`
    |
    = note: expected reference `&chalk_ir::Substitution<_>`
                  found struct `chalk_ir::Substitution<_>`
help: consider borrowing here
    |
719 |                     .unwrap_or_else(|| &Substitution::empty(Interner));
    |                                        +

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/expr.rs:1528:60
     |
1528 |           self.write_method_resolution(tgt_expr, func, subst.clone());
     |                                                              ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `insert_full` exists for struct `IndexSet<Substitution<Interner>, BuildHasherDefault<FxHasher>>`, but its trait bounds were not satisfied
     |
    ::: crates/hir-ty/src/interner.rs:31:1
     |
31   |   pub struct InternedWrapper<T>(pub(crate) T);
     |   ----------------------------- doesn't satisfy `_: Internable`
    --> crates/hir-ty/src/infer/expr.rs:1737:50
     |
1736 | / ...                   self.tuple_field_accesses_rev
1737 | | ...                       .insert_full(substs.clone())
     | |___________________________-^^^^^^^^^^^
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Hash`
     |
     = note: the following trait bounds were not satisfied:
             `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::hash::Hash`
note: the trait `Internable` must be implemented
    --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
     |
193  | pub trait Internable: Hash + Eq + 'static {
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/expr.rs:1850:77
     |
1850 |                           self.write_method_resolution(tgt_expr, func, substs.clone());
     |                                                                               ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/expr.rs:1893:69
     |
1893 |                   self.write_method_resolution(tgt_expr, func, substs.clone());
     |                                                                       ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0308]: mismatched types
   --> crates/hir-ty/src/infer/path.rs:76:25
    |
73  |                     Some(ValuePathResolution::GenericDef(
    |                          ------------------------------- arguments to this enum variant are incorrect
...
76  |                         substs.clone(),
    |                         ^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/infer/path.rs:76:25
    |
76  |                         substs.clone(),
    |                         ^^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: tuple variant defined here
   --> crates/hir-ty/src/infer/path.rs:431:5
    |
431 |     GenericDef(ValueTyDefId, GenericDefId, Substitution),
    |     ^^^^^^^^^^

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/path.rs:325:70
     |
325  |           self.write_assoc_resolution(id, item, trait_ref.substitution.clone());
     |                                                                        ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/path.rs:402:54
     |
402  |           self.write_assoc_resolution(id, item, substs.clone());
     |                                                        ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0308]: mismatched types
   --> crates/hir-ty/src/infer/path.rs:423:48
    |
423 |         Some((ValueNs::EnumVariantId(variant), subst.clone()))
    |                                                ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/infer/path.rs:423:48
    |
423 |         Some((ValueNs::EnumVariantId(variant), subst.clone()))
    |                                                ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied

error[E0308]: mismatched types
   --> crates/hir-ty/src/infer/unify.rs:349:77
    |
349 | ...                   if let Ok(eval) = self.db.const_eval(*c_id, subst.clone(), None) {
    |                                                 ----------        ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                                                 |
    |                                                 arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/infer/unify.rs:349:77
    |
349 | ...                   if let Ok(eval) = self.db.const_eval(*c_id, subst.clone(), None) {
    |                                                                   ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:70:8
    |
70  |     fn const_eval(
    |        ^^^^^^^^^^

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/unify.rs:761:60
     |
761  |                           value: canonical_subst.value.subst.clone(),
     |                                                              ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0308]: mismatched types
   --> crates/hir-ty/src/infer/unify.rs:766:52
    |
766 |                 canonicalized.apply_solution(self, substs.clone());
    |                               --------------       ^^^^^^^^^^^^^^ expected `Canonical<Substitution<Interner>>`, found `&Canonical<Substitution<Interner>>`
    |                               |
    |                               arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Canonical<_>`
            found reference `&chalk_ir::Canonical<_>`
note: `chalk_ir::Canonical<chalk_ir::Substitution<interner::Interner>>` does not implement `Clone`, so `&chalk_ir::Canonical<chalk_ir::Substitution<interner::Interner>>` was cloned instead
   --> crates/hir-ty/src/infer/unify.rs:766:52
    |
766 |                 canonicalized.apply_solution(self, substs.clone());
    |                                                    ^^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/infer/unify.rs:95:19
    |
95  |     pub(crate) fn apply_solution(
    |                   ^^^^^^^^^^^^^^
...
98  |         solution: Canonical<Substitution>,
    |         ---------------------------------

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer/unify.rs:826:45
     |
826  |                   Some(trait_ref.substitution.clone()),
     |                                               ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0308]: mismatched types
   --> crates/hir-ty/src/infer/unify.rs:905:63
    |
905 |                     if let Ok(eval) = self.db.const_eval(*id, subst.clone(), None) {
    |                                               ----------      ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                                               |
    |                                               arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/infer/unify.rs:905:63
    |
905 |                     if let Ok(eval) = self.db.const_eval(*id, subst.clone(), None) {
    |                                                               ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:70:8
    |
70  |     fn const_eval(
    |        ^^^^^^^^^^

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/infer.rs:422:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |          ----- in this derive macro expansion
...
422 |     method_resolutions: FxHashMap<ExprId, (FunctionId, Substitution)>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
    = note: required because it appears within the type `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>)`
    = note: required for `HashMap<Idx<Expr>, (FunctionId, Substitution<Interner>), ...>` to implement `std::clone::Clone`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-3425991384778664714.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/infer.rs:428:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |          ----- in this derive macro expansion
...
428 |     assoc_resolutions: FxHashMap<ExprOrPatId, (AssocItemId, Substitution)>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
    = note: required because it appears within the type `(AssocItemId, chalk_ir::Substitution<interner::Interner>)`
    = note: required for `HashMap<ExprOrPatId, (AssocItemId, Substitution<Interner>), ...>` to implement `std::clone::Clone`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-9886999323488445172.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/infer.rs:432:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |          ----- in this derive macro expansion
...
432 |     pub tuple_field_access_types: FxHashMap<TupleId, Substitution>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 2 redundant requirements hidden
    = note: required for `HashMap<TupleId, chalk_ir::Substitution<interner::Interner>, FxBuildHasher>` to implement `std::clone::Clone`
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0369]: binary operation `==` cannot be applied to type `HashMap<la_arena::Idx<hir_def::hir::Expr>, (hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>), FxBuildHasher>`
   --> crates/hir-ty/src/infer.rs:422:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |                 --------- in this derive macro expansion
...
422 |     method_resolutions: FxHashMap<ExprId, (FunctionId, Substitution)>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0369]: binary operation `==` cannot be applied to type `HashMap<ExprOrPatId, (AssocItemId, chalk_ir::Substitution<interner::Interner>), FxBuildHasher>`
   --> crates/hir-ty/src/infer.rs:428:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |                 --------- in this derive macro expansion
...
428 |     assoc_resolutions: FxHashMap<ExprOrPatId, (AssocItemId, Substitution)>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0369]: binary operation `==` cannot be applied to type `HashMap<TupleId, chalk_ir::Substitution<interner::Interner>, FxBuildHasher>`
   --> crates/hir-ty/src/infer.rs:432:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |                 --------- in this derive macro expansion
...
432 |     pub tuple_field_access_types: FxHashMap<TupleId, Substitution>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/infer.rs:432:5
    |
419 | #[derive(Clone, PartialEq, Eq, Debug, Default)]
    |                            -- in this derive macro expansion
...
432 |     pub tuple_field_access_types: FxHashMap<TupleId, Substitution>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `HashMap<TupleId, chalk_ir::Substitution<interner::Interner>, FxBuildHasher>` to implement `std::cmp::Eq`
note: required by a bound in `AssertParamIsEq`
   --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/cmp.rs:363:31
    |
363 | pub struct AssertParamIsEq<T: Eq + ?Sized> {
    |                               ^^ required by this bound in `AssertParamIsEq`
    = note: this error originates in the derive macro `Eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone` is not satisfied
    --> crates/hir-ty/src/infer.rs:474:44
     |
474  |         self.method_resolutions.get(&expr).cloned()
     |                                            ^^^^^^ the trait `std::clone::Clone` is not implemented for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>`
     |
     = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
     = note: 1 redundant requirement hidden
     = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
     = note: required because it appears within the type `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>)`
note: required by a bound in `std::option::Option::<&T>::cloned`
    --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:1913:12
     |
1911 |     pub fn cloned(self) -> Option<T>
     |            ------ required by a bound in this associated function
1912 |     where
1913 |         T: Clone,
     |            ^^^^^ required by this bound in `Option::<&T>::cloned`
help: consider borrowing here
     |
474  |         (&self.method_resolutions.get(&expr)).cloned()
     |         ++                                  +

error[E0277]: the trait bound `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone` is not satisfied
    --> crates/hir-ty/src/infer.rs:492:48
     |
492  |         self.assoc_resolutions.get(&id.into()).cloned()
     |                                                ^^^^^^ the trait `std::clone::Clone` is not implemented for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>`
     |
     = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
     = note: 1 redundant requirement hidden
     = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
     = note: required because it appears within the type `(AssocItemId, chalk_ir::Substitution<interner::Interner>)`
note: required by a bound in `std::option::Option::<&T>::cloned`
    --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:1913:12
     |
1911 |     pub fn cloned(self) -> Option<T>
     |            ------ required by a bound in this associated function
1912 |     where
1913 |         T: Clone,
     |            ^^^^^ required by this bound in `Option::<&T>::cloned`
help: consider borrowing here
     |
492  |         (&self.assoc_resolutions.get(&id.into())).cloned()
     |         ++                                      +

error[E0277]: the trait bound `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone` is not satisfied
    --> crates/hir-ty/src/infer.rs:495:48
     |
495  |         self.assoc_resolutions.get(&id.into()).cloned()
     |                                                ^^^^^^ the trait `std::clone::Clone` is not implemented for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>`
     |
     = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
     = note: 1 redundant requirement hidden
     = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
     = note: required because it appears within the type `(AssocItemId, chalk_ir::Substitution<interner::Interner>)`
note: required by a bound in `std::option::Option::<&T>::cloned`
    --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:1913:12
     |
1911 |     pub fn cloned(self) -> Option<T>
     |            ------ required by a bound in this associated function
1912 |     where
1913 |         T: Clone,
     |            ^^^^^ required by this bound in `Option::<&T>::cloned`
help: consider borrowing here
     |
495  |         (&self.assoc_resolutions.get(&id.into())).cloned()
     |         ++                                      +

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/infer.rs:576:5
    |
565 |   #[derive(Clone, Debug)]
    |            ----- in this derive macro expansion
...
576 | /     tuple_field_accesses_rev:
577 | |         IndexSet<Substitution, std::hash::BuildHasherDefault<rustc_hash::FxHasher>>,
    | |___________________________________________________________________________________^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 2 redundant requirements hidden
    = note: required for `IndexSet<chalk_ir::Substitution<interner::Interner>, BuildHasherDefault<FxHasher>>` to implement `std::clone::Clone`
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: the method `clone` exists for mutable reference `&mut Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer.rs:831:53
     |
831  |               *subst = table.resolve_completely(subst.clone());
     |                                                       ^^^^^ method cannot be called on `&mut Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `clone` exists for mutable reference `&mut Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer.rs:836:53
     |
836  |               *subst = table.resolve_completely(subst.clone());
     |                                                       ^^^^^ method cannot be called on `&mut Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer.rs:1028:38
     |
1028 |                           placeholders.clone(),
     |                                        ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/infer.rs:1406:62
     |
1406 |                           substitution: trait_ref.substitution.clone(),
     |                                                                ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:301:42
    |
301 |         Ok(Interned::new(InternedWrapper(data.into_iter().collect::<Result<_, _>>()?)))
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:301:26
    |
301 |         Ok(Interned::new(InternedWrapper(data.into_iter().collect::<Result<_, _>>()?)))
    |            ------------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |            |
    |            required by a bound introduced by this call
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned::<T>::new`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:30:9
    |
30  | impl<T: Internable> Interned<T> {
    |         ^^^^^^^^^^ required by this bound in `Interned::<T>::new`
31  |     pub fn new(obj: T) -> Self {
    |            --- required by a bound in this associated function

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:301:9
    |
301 |         Ok(Interned::new(InternedWrapper(data.into_iter().collect::<Result<_, _>>()?)))
    |         ^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/interner.rs:301:9
    |
301 |         Ok(Interned::new(InternedWrapper(data.into_iter().collect::<Result<_, _>>()?)))
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0599]: the method `as_ref` exists for reference `&Interned<InternedWrapper<SmallVec<[GenericArg<Interner>; 2]>>>`, but its trait bounds were not satisfied
   --> crates/hir-ty/src/interner.rs:305:23
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ----------------------------- doesn't satisfy `_: Internable`
...
305 |         &substitution.as_ref().0
    |                       ^^^^^^ method cannot be called due to unsatisfied trait bounds
    |
   ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    | ------------------------------------------- doesn't satisfy `_: AsRef<InternedWrapper<SmallVec<[GenericArg<Interner>; 2]>>>` or `_: AsRef<_>`
    |
    = note: the following trait bounds were not satisfied:
            `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable`
            which is required by `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: AsRef<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>`
            `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: AsRef<_>`
            which is required by `&Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: AsRef<_>`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/lower.rs:726:51
     |
726  |                   let parent_subst = t.substitution.clone();
     |                                                     ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:123:20
    |
122 | #[derive(Debug, Clone)]
    |          ----- in this derive macro expansion
123 | pub struct Clauses(InternedClauses);
    |                    ^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, ...)>>` to implement `std::fmt::Debug`
    = note: 1 redundant requirement hidden
    = note: required for `&Interned<InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, ...)>>` to implement `std::fmt::Debug`
    = note: required for the cast from `&&Interned<InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, ...)>>` to `&dyn std::fmt::Debug`
    = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-16322720941584891258.txt'
    = note: consider using `--verbose` to print the full type name to the console
    = note: this error originates in the derive macro `Debug` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:123:20
    |
122 | #[derive(Debug, Clone)]
    |                 ----- in this derive macro expansion
123 | pub struct Clauses(InternedClauses);
    |                    ^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:129:17
    |
129 |         Clauses(Interned::new(InternedWrapper((clauses, flags, flags.outer_exclusive_binder))))
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0308]: mismatched types
   --> crates/hir-ty/src/next_solver/predicate.rs:129:57
    |
129 |         Clauses(Interned::new(InternedWrapper((clauses, flags, flags.outer_exclusive_binder))))
    |                                                         ^^^^^ expected `TypeFlags`, found `FlagComputation`

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:129:31
    |
129 |         Clauses(Interned::new(InternedWrapper((clauses, flags, flags.outer_exclusive_binder))))
    |                 ------------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |                 |
    |                 required by a bound introduced by this call
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned::<T>::new`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:30:9
    |
30  | impl<T: Internable> Interned<T> {
    |         ^^^^^^^^^^ required by this bound in `Interned::<T>::new`
31  |     pub fn new(obj: T) -> Self {
    |            --- required by a bound in this associated function

error[E0609]: no field `0` on type `Interned<InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>>`
   --> crates/hir-ty/src/next_solver/predicate.rs:135:16
    |
135 |         self.0.0.eq(other.0.0)
    |                ^ unknown field

error[E0609]: no field `0` on type `Interned<InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>>`
   --> crates/hir-ty/src/next_solver/predicate.rs:135:29
    |
135 |         self.0.0.eq(other.0.0)
    |                             ^ unknown field

error[E0609]: no field `0` on type `Interned<InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>>`
   --> crates/hir-ty/src/next_solver/predicate.rs:143:16
    |
143 |         self.0.0.hash(state)
    |                ^ unknown field

error[E0609]: no field `0` on type `Interned<InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>>`
   --> crates/hir-ty/src/next_solver/predicate.rs:153:16
    |
153 |         self.0.0.clone().into_iter()
    |                ^ unknown field

error[E0609]: no field `0` on type `Interned<InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>>`
   --> crates/hir-ty/src/next_solver/predicate.rs:157:16
    |
157 |         self.0.0.as_slice()
    |                ^ unknown field

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:170:17
    |
170 |         Clauses(Interned::new(InternedWrapper(Default::default())))
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: the trait bound `rustc_type_ir::TypeFlags: std::default::Default` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:170:47
    |
170 |         Clauses(Interned::new(InternedWrapper(Default::default())))
    |                                               ^^^^^^^^^^^^^^^^^^ the trait `std::default::Default` is not implemented for `rustc_type_ir::TypeFlags`
    |
    = help: the following other types implement trait `std::default::Default`:
              ()
              (A, Z, Y, X, W, V, U, T)
              (B, A, Z, Y, X, W, V, U, T)
              (C, B, A, Z, Y, X, W, V, U, T)
              (D, C, B, A, Z, Y, X, W, V, U, T)
              (E, D, C, B, A, Z, Y, X, W, V, U, T)
              (T,)
              (U, T)
            and 5 others
    = note: required for `(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)` to implement `std::default::Default`

error[E0277]: the trait bound `rustc_type_ir::DebruijnIndex: std::default::Default` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:170:47
    |
170 |         Clauses(Interned::new(InternedWrapper(Default::default())))
    |                                               ^^^^^^^^^^^^^^^^^^ the trait `std::default::Default` is not implemented for `rustc_type_ir::DebruijnIndex`
    |
    = help: the following other types implement trait `std::default::Default`:
              ()
              (A, Z, Y, X, W, V, U, T)
              (B, A, Z, Y, X, W, V, U, T)
              (C, B, A, Z, Y, X, W, V, U, T)
              (D, C, B, A, Z, Y, X, W, V, U, T)
              (E, D, C, B, A, Z, Y, X, W, V, U, T)
              (T,)
              (U, T)
            and 5 others
    = note: required for `(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)` to implement `std::default::Default`

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:170:31
    |
170 |         Clauses(Interned::new(InternedWrapper(Default::default())))
    |                 ------------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |                 |
    |                 required by a bound introduced by this call
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned::<T>::new`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:30:9
    |
30  | impl<T: Internable> Interned<T> {
    |         ^^^^^^^^^^ required by this bound in `Interned::<T>::new`
31  |     pub fn new(obj: T) -> Self {
    |            --- required by a bound in this associated function

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:177:20
    |
177 |         Ok(Clauses(Interned::new(InternedWrapper(self.iter().map(|v| v.try_fold_with(folder)).collect::<Result<_, _>>()?))))
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
    |
26  | pub struct Interned<T: Internable + ?Sized> {
    |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0277]: a value of type `(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)` cannot be built from an iterator over elements of type `predicate::Clause`
    --> crates/hir-ty/src/next_solver/predicate.rs:177:105
     |
177  |         Ok(Clauses(Interned::new(InternedWrapper(self.iter().map(|v| v.try_fold_with(folder)).collect::<Result<_, _>>()?))))
     |                                                                                               -------   ^^^^^^^^^^^^ value of type `(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)` cannot be built from `std::iter::Iterator<Item=predicate::Clause>`
     |                                                                                               |
     |                                                                                               required by a bound introduced by this call
     |
     = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-10703254182033952513.txt'
     = note: consider using `--verbose` to print the full type name to the console
     = help: the trait `FromIterator<predicate::Clause>` is not implemented for `(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)`
     = help: the following other types implement trait `FromIterator<A>`:
               `()` implements `FromIterator<()>`
               `(A, B)` implements `FromIterator<(AE, BE)>`
     = note: required for `Result<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex), ...>` to implement `FromIterator<std::result::Result<predicate::Clause, <F as rustc_type_ir::fold::FallibleTypeFolder<next_solver::interner::DbInterner>>::Error>>`
note: required by a bound in `collect`
    --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:1967:19
     |
1967 |     fn collect<B: FromIterator<Self::Item>>(self) -> B
     |                   ^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `Iterator::collect`
     = note: the full name for the type has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-6075589666419226419.txt'
     = note: consider using `--verbose` to print the full type name to the console

error[E0277]: the trait bound `InternedWrapper<(SmallVec<[predicate::Clause; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>: Internable` is not satisfied
   --> crates/hir-ty/src/next_solver/predicate.rs:177:34
    |
177 |         Ok(Clauses(Interned::new(InternedWrapper(self.iter().map(|v| v.try_fold_with(folder)).collect::<Result<_, _>>()?))))
    |                    ------------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<(SmallVec<[Clause; 2]>, TypeFlags, DebruijnIndex)>`
    |                    |
    |                    required by a bound introduced by this call
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
note: required by a bound in `Interned::<T>::new`
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:30:9
    |
30  | impl<T: Internable> Interned<T> {
    |         ^^^^^^^^^^ required by this bound in `Interned::<T>::new`
31  |     pub fn new(obj: T) -> Self {
    |            --- required by a bound in this associated function

error[E0308]: mismatched types
   --> crates/hir-ty/src/utils.rs:307:59
    |
307 |                 if let Ok(eval) = self.db.const_eval(*id, subst.clone(), None) {
    |                                           ----------      ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                                           |
    |                                           arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/utils.rs:307:59
    |
307 |                 if let Ok(eval) = self.db.const_eval(*id, subst.clone(), None) {
    |                                                           ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:70:8
    |
70  |     fn const_eval(
    |        ^^^^^^^^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/consteval.rs:194:44
    |
194 |                 let ec = db.const_eval(*c, subst.clone(), None).ok()?;
    |                             ----------     ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                             |
    |                             arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/consteval.rs:194:44
    |
194 |                 let ec = db.const_eval(*c, subst.clone(), None).ok()?;
    |                                            ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:70:8
    |
70  |     fn const_eval(
    |        ^^^^^^^^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/consteval.rs:210:44
    |
210 |                 let ec = db.const_eval(*c, subst.clone(), None).ok()?;
    |                             ----------     ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                             |
    |                             arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/consteval.rs:210:44
    |
210 |                 let ec = db.const_eval(*c, subst.clone(), None).ok()?;
    |                                            ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:70:8
    |
70  |     fn const_eval(
    |        ^^^^^^^^^^

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 2 redundant requirements hidden
    = note: required for `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>)` to implement `std::cmp::Eq`
    = note: required for `ra_salsa::derived::DerivedStorage<LookupImplMethodQuery>` to implement `QueryStorageOps<LookupImplMethodQuery>`
note: required by a bound in `get_query_table`
   --> /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/plumbing.rs:119:17
    |
116 | pub fn get_query_table<'me, Q>(db: &'me <Q as QueryDb<'me>>::DynDb) -> QueryTable<'me, Q>
    |        --------------- required by a bound in this function
...
119 |     Q::Storage: QueryStorageOps<Q>,
    |                 ^^^^^^^^^^^^^^^^^^ required by this bound in `get_query_table`
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: the method `get` exists for struct `QueryTable<'_, LookupImplMethodQuery>`, but its trait bounds were not satisfied
   --> crates/hir-ty/src/db.rs:33:1
    |
33  | #[ra_salsa::query_group(HirDatabaseStorage)]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method cannot be called on `QueryTable<'_, LookupImplMethodQuery>` due to unsatisfied trait bounds
    |
   ::: crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ----------------------------- doesn't satisfy `_: Internable`
    |
   ::: /home/gh-jackh726/rust-analyzer/crates/ra-salsa/src/derived.rs:26:1
    |
26  | pub struct DerivedStorage<Q>
    | ---------------------------- doesn't satisfy `_: QueryStorageOps<LookupImplMethodQuery>`
    |
    = note: the following trait bounds were not satisfied:
            `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable`
            which is required by `ra_salsa::derived::DerivedStorage<LookupImplMethodQuery>: QueryStorageOps<LookupImplMethodQuery>`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
  --> crates/hir-ty/src/db.rs:33:1
   |
33 | #[ra_salsa::query_group(HirDatabaseStorage)]
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   |
   = help: the following other types implement trait `Internable`:
             InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
             InternedWrapper<ConstScalar>
             InternedWrapper<SmallVec<[GenericDefId; 2]>>
             InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
             InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
             InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
             InternedWrapper<SmallVec<[predicate::Clause; 2]>>
             InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
           and 14 others
   = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
   = note: 2 redundant requirements hidden
   = note: required for `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>)` to implement `std::cmp::Eq`
   = note: required for `ra_salsa::derived::DerivedStorage<LookupImplMethodQuery>` to implement `QueryStorageOps<LookupImplMethodQuery>`
   = note: this error originates in the attribute macro `ra_salsa::query_group` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0308]: mismatched types
   --> crates/hir-ty/src/diagnostics/match_check/pat_analysis.rs:288:52
    |
288 |                         PatKind::Variant { substs: substs.clone(), enum_variant, subpatterns }
    |                                                    ^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/diagnostics/match_check/pat_analysis.rs:288:52
    |
288 |                         PatKind::Variant { substs: substs.clone(), enum_variant, subpatterns }
    |                                                    ^^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
  --> crates/hir-ty/src/diagnostics/match_check.rs:66:9
   |
52 | #[derive(Clone, Debug, PartialEq)]
   |          ----- in this derive macro expansion
...
66 |         substs: Substitution,
   |         ^^^^^^^^^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   |
   = help: the following other types implement trait `Internable`:
             InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
             InternedWrapper<ConstScalar>
             InternedWrapper<SmallVec<[GenericDefId; 2]>>
             InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
             InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
             InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
             InternedWrapper<SmallVec<[predicate::Clause; 2]>>
             InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
           and 14 others
   = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
   = note: 1 redundant requirement hidden
   = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
   = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0369]: binary operation `==` cannot be applied to type `&chalk_ir::Substitution<interner::Interner>`
   --> crates/hir-ty/src/diagnostics/match_check.rs:66:9
    |
52  | #[derive(Clone, Debug, PartialEq)]
    |                        --------- in this derive macro expansion
...
66  |         substs: Substitution,
    |         ^^^^^^^^^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0308]: mismatched types
   --> crates/hir-ty/src/diagnostics/match_check.rs:259:40
    |
259 |                     PatKind::Variant { substs, enum_variant, subpatterns }
    |                                        ^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`

error[E0308]: mismatched types
   --> crates/hir-ty/src/display.rs:708:56
    |
708 |             let Ok(layout) = f.db.layout_of_adt(adt.0, subst.clone(), trait_env.clone()) else {
    |                                   -------------        ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                                   |
    |                                   arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/display.rs:708:56
    |
708 |             let Ok(layout) = f.db.layout_of_adt(adt.0, subst.clone(), trait_env.clone()) else {
    |                                                        ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:97:8
    |
97  |     fn layout_of_adt(
    |        ^^^^^^^^^^^^^

error[E0308]: mismatched types
    --> crates/hir-ty/src/display.rs:1139:39
     |
1139 |                         substitution: parameters.clone(),
     |                                       ^^^^^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/display.rs:1139:39
     |
1139 |                         substitution: parameters.clone(),
     |                                       ^^^^^^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied

error[E0308]: mismatched types
   --> crates/hir-ty/src/layout.rs:224:43
    |
224 |             return db.layout_of_adt(*def, subst.clone(), trait_env);
    |                       -------------       ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                       |
    |                       arguments to this method are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/layout.rs:224:43
    |
224 |             return db.layout_of_adt(*def, subst.clone(), trait_env);
    |                                           ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
   --> crates/hir-ty/src/db.rs:97:8
    |
97  |     fn layout_of_adt(
    |        ^^^^^^^^^^^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/layout.rs:357:35
    |
357 |                     substitution: subst.clone(),
    |                                   ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/layout.rs:357:35
    |
357 |                     substitution: subst.clone(),
    |                                   ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied

error[E0308]: mismatched types
   --> crates/hir-ty/src/layout.rs:435:31
    |
435 |                 substitution: subst.clone(),
    |                               ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/layout.rs:435:31
    |
435 |                 substitution: subst.clone(),
    |                               ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
  --> crates/hir-ty/src/method_resolution.rs:92:38
   |
92 |                 let first_ty = subst.interned().first().map(|arg| arg.assert_ty_ref(Interner));
   |                                      ^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   |
   = help: the following other types implement trait `Internable`:
             InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
             InternedWrapper<ConstScalar>
             InternedWrapper<SmallVec<[GenericDefId; 2]>>
             InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
             InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
             InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
             InternedWrapper<SmallVec<[predicate::Clause; 2]>>
             InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
           and 14 others
note: required by a bound in `Interned`
  --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:24
   |
26 | pub struct Interned<T: Internable + ?Sized> {
   |                        ^^^^^^^^^^ required by this bound in `Interned`

error[E0599]: no method named `first` found for reference `&Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` in the current scope
  --> crates/hir-ty/src/method_resolution.rs:92:49
   |
92 |                 let first_ty = subst.interned().first().map(|arg| arg.assert_ty_ref(Interner));
   |                                                 ^^^^^ method not found in `&Interned<InternedWrapper<SmallVec<[GenericArg<Interner>; 2]>>>`

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/method_resolution.rs:1537:80
     |
1537 |               let fn_subst = TyBuilder::subst_for_def(db, fn_id, Some(impl_subst.clone()))
     |                                                                                  ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval/shim.rs:1346:50
     |
1346 |                 let layout = self.layout_adt(id, subst.clone())?;
     |                                   ----------     ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                                   |
     |                                   arguments to this method are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval/shim.rs:1346:50
     |
1346 |                 let layout = self.layout_adt(id, subst.clone())?;
     |                                                  ^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:858:8
     |
858  |     fn layout_adt(&self, adt: AdtId, subst: Substitution) -> Result<Arc<Layout>> {
     |        ^^^^^^^^^^                    -------------------

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:1471:57
     |
1471 | ...                   self.layout_of_variant(*it, subst.clone(), locals)?;
     |                            -----------------      ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                            |
     |                            arguments to this method are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:1471:57
     |
1471 | ...                   self.layout_of_variant(*it, subst.clone(), locals)?;
     |                                                   ^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:1782:8
     |
1782 |     fn layout_of_variant(
     |        ^^^^^^^^^^^^^^^^^
...
1785 |         subst: Substitution,
     |         -------------------

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:1909:88
     |
1909 |                     let (c, s) = lookup_impl_const(self.db, self.trait_env.clone(), c, subst);
     |                                  -----------------                                     ^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                                  |
     |                                  arguments to this function are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:1907:33
     |
1907 |                 let mut subst = subst.clone();
     |                                 ^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: function defined here
    --> crates/hir-ty/src/method_resolution.rs:612:8
     |
612  | pub fn lookup_impl_const(
     |        ^^^^^^^^^^^^^^^^^
...
616  |     subs: Substitution,
     |     ------------------

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:1911:29
     |
1907 |                 let mut subst = subst.clone();
     |                                 ------------- expected due to this value
...
1911 |                     subst = s;
     |                             ^ expected `&Substitution<Interner>`, found `Substitution<Interner>`
     |
     = note: expected reference `&chalk_ir::Substitution<_>`
                   found struct `chalk_ir::Substitution<_>`
help: consider borrowing here
     |
1911 |                     subst = &s;
     |                             +

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:1915:43
     |
1915 |                     .const_eval(const_id, subst, Some(self.trait_env.clone()))
     |                      ----------           ^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                      |
     |                      arguments to this method are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:1907:33
     |
1907 |                 let mut subst = subst.clone();
     |                                 ^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/db.rs:70:8
     |
70   |     fn const_eval(
     |        ^^^^^^^^^^

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:2452:17
     |
2450 |             .monomorphized_mir_body_for_closure(
     |              ---------------------------------- arguments to this method are incorrect
2451 |                 closure,
2452 |                 generic_args.clone(),
     |                 ^^^^^^^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:2452:17
     |
2452 |                 generic_args.clone(),
     |                 ^^^^^^^^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/db.rs:57:8
     |
57   |     fn monomorphized_mir_body_for_closure(
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:2495:25
     |
2492 |                     return self.exec_fn_trait(
     |                                 ------------- arguments to this method are incorrect
...
2495 |                         generic_args,
     |                         ^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:2488:28
     |
2488 |         let generic_args = generic_args.clone();
     |                            ^^^^^^^^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:2674:8
     |
2674 |     fn exec_fn_trait(
     |        ^^^^^^^^^^^^^
...
2678 |         generic_args: Substitution,
     |         --------------------------

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:2505:21
     |
2502 |                 self.exec_fn_with_args(
     |                      ----------------- arguments to this method are incorrect
...
2505 |                     generic_args,
     |                     ^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:2488:28
     |
2488 |         let generic_args = generic_args.clone();
     |                            ^^^^^^^^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:2573:8
     |
2573 |     fn exec_fn_with_args(
     |        ^^^^^^^^^^^^^^^^^
...
2577 |         generic_args: Substitution,
     |         --------------------------

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:2514:55
     |
2514 |                     self.layout_of_variant(id.into(), generic_args, locals)?;
     |                          -----------------            ^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                          |
     |                          arguments to this method are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:2488:28
     |
2488 |         let generic_args = generic_args.clone();
     |                            ^^^^^^^^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:1782:8
     |
1782 |     fn layout_of_variant(
     |        ^^^^^^^^^^^^^^^^^
...
1785 |         subst: Substitution,
     |         -------------------

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:2526:55
     |
2526 |                     self.layout_of_variant(id.into(), generic_args, locals)?;
     |                          -----------------            ^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                          |
     |                          arguments to this method are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:2488:28
     |
2488 |         let generic_args = generic_args.clone();
     |                            ^^^^^^^^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:1782:8
     |
1782 |     fn layout_of_variant(
     |        ^^^^^^^^^^^^^^^^^
...
1785 |         subst: Substitution,
     |         -------------------

error[E0599]: the method `get` exists for struct `Ref<'_, HashMap<(FunctionId, Substitution<Interner>), ..., ...>>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/mir/eval.rs:2547:63
     |
2547 |         if let Some(r) = self.mir_or_dyn_index_cache.borrow().get(&pair) {
     |                                                               ^^^ method cannot be called due to unsatisfied trait bounds
     |
    ::: crates/hir-ty/src/interner.rs:31:1
     |
31   | pub struct InternedWrapper<T>(pub(crate) T);
     | ----------------------------- doesn't satisfy `_: Internable`
     |
     = note: the full type name has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-5492561637279167938.txt'
     = note: consider using `--verbose` to print the full type name to the console
     = note: the following trait bounds were not satisfied:
             `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable`
             which is required by `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>): std::cmp::Eq`
note: the trait `Internable` must be implemented
    --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
     |
193  | pub trait Internable: Hash + Eq + 'static {
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/mir/eval.rs:2552:78
     |
2552 |               is_dyn_method(self.db, self.trait_env.clone(), def, generic_args.clone())
     |                                                                                ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/mir/eval.rs:2557:86
     |
2557 |                   self.db.lookup_impl_method(self.trait_env.clone(), def, generic_args.clone());
     |                                                                                        ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0599]: the method `insert` exists for struct `RefMut<'_, HashMap<(FunctionId, Substitution<Interner>), ..., ...>>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/mir/eval.rs:2569:50
     |
2569 |         self.mir_or_dyn_index_cache.borrow_mut().insert((def, generic_args), r.clone());
     |                                                  ^^^^^^
     |
    ::: crates/hir-ty/src/interner.rs:31:1
     |
31   | pub struct InternedWrapper<T>(pub(crate) T);
     | ----------------------------- doesn't satisfy `_: Internable`
     |
     = note: the full type name has been written to '/home/gh-jackh726/rust-analyzer/target/debug/deps/hir_ty-795ee339076c74e5.long-type-750936406893574061.txt'
     = note: consider using `--verbose` to print the full type name to the console
     = note: the following trait bounds were not satisfied:
             `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable`
             which is required by `(hir_def::FunctionId, chalk_ir::Substitution<interner::Interner>): std::cmp::Eq`
note: the trait `Internable` must be implemented
    --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
     |
193  | pub trait Internable: Hash + Eq + 'static {
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/mir/eval.rs:2597:59
     |
2597 |           match self.get_mir_or_dyn_index(def, generic_args.clone(), locals, span)? {
     |                                                             ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/eval.rs:2846:60
     |
2846 |                         let layout = self.layout_adt(id.0, subst.clone())?;
     |                                           ----------       ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                                           |
     |                                           arguments to this method are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/eval.rs:2846:60
     |
2846 |                         let layout = self.layout_adt(id.0, subst.clone())?;
     |                                                            ^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: method defined here
    --> crates/hir-ty/src/mir/eval.rs:858:8
     |
858  |     fn layout_adt(&self, adt: AdtId, subst: Substitution) -> Result<Arc<Layout>> {
     |        ^^^^^^^^^^                    -------------------

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/mir/lower.rs:116:47
    |
85  | #[derive(Debug, Clone, PartialEq, Eq)]
    |                 ----- in this derive macro expansion
...
116 |     GenericArgNotProvided(TypeOrConstParamId, Substitution),
    |                                               ^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0369]: binary operation `==` cannot be applied to type `&chalk_ir::Substitution<interner::Interner>`
   --> crates/hir-ty/src/mir/lower.rs:116:47
    |
85  | #[derive(Debug, Clone, PartialEq, Eq)]
    |                        --------- in this derive macro expansion
...
116 |     GenericArgNotProvided(TypeOrConstParamId, Substitution),
    |                                               ^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/mir/lower.rs:116:47
    |
85  | #[derive(Debug, Clone, PartialEq, Eq)]
    |                                   -- in this derive macro expansion
...
116 |     GenericArgNotProvided(TypeOrConstParamId, Substitution),
    |                                               ^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::cmp::Eq`
note: required by a bound in `AssertParamIsEq`
   --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/cmp.rs:363:31
    |
363 | pub struct AssertParamIsEq<T: Eq + ?Sized> {
    |                               ^^ required by this bound in `AssertParamIsEq`
    = note: this error originates in the derive macro `Eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0308]: mismatched types
   --> crates/hir-ty/src/mir/lower.rs:865:60
    |
865 | ...                   AggregateKind::Adt(variant_id, subst),
    |                       ------------------             ^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                       |
    |                       arguments to this enum variant are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: tuple variant defined here
   --> crates/hir-ty/src/mir.rs:337:5
    |
337 |     Adt(VariantId, Substitution),
    |     ^^^

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/lower.rs:1163:55
     |
1163 |                         AggregateKind::Adt(st.into(), subst.clone()),
     |                         ------------------            ^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                         |
     |                         arguments to this enum variant are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
    --> crates/hir-ty/src/mir/lower.rs:1163:55
     |
1163 |                         AggregateKind::Adt(st.into(), subst.clone()),
     |                                                       ^^^^^
     = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: tuple variant defined here
    --> crates/hir-ty/src/mir.rs:337:5
     |
337  |     Adt(VariantId, Substitution),
     |     ^^^

error[E0308]: mismatched types
    --> crates/hir-ty/src/mir/lower.rs:1513:69
     |
1513 |             Rvalue::Aggregate(AggregateKind::Adt(variant_id.into(), subst), fields),
     |                               ------------------                    ^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
     |                               |
     |                               arguments to this enum variant are incorrect
     |
     = note: expected struct `chalk_ir::Substitution<_>`
             found reference `&chalk_ir::Substitution<_>`
note: tuple variant defined here
    --> crates/hir-ty/src/mir.rs:337:5
     |
337  |     Adt(VariantId, Substitution),
     |     ^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/mir/monomorphization.rs:112:69
    |
112 |             .ok_or_else(|| MirLowerError::GenericArgNotProvided(it, self.subst.clone()))?
    |                            ------------------------------------     ^^^^^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                            |
    |                            arguments to this enum variant are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/mir/monomorphization.rs:112:69
    |
112 |             .ok_or_else(|| MirLowerError::GenericArgNotProvided(it, self.subst.clone()))?
    |                                                                     ^^^^^^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: tuple variant defined here
   --> crates/hir-ty/src/mir/lower.rs:116:5
    |
116 |     GenericArgNotProvided(TypeOrConstParamId, Substitution),
    |     ^^^^^^^^^^^^^^^^^^^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/mir/monomorphization.rs:130:69
    |
130 |             .ok_or_else(|| MirLowerError::GenericArgNotProvided(it, self.subst.clone()))?
    |                            ------------------------------------     ^^^^^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                            |
    |                            arguments to this enum variant are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/mir/monomorphization.rs:130:69
    |
130 |             .ok_or_else(|| MirLowerError::GenericArgNotProvided(it, self.subst.clone()))?
    |                                                                     ^^^^^^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: tuple variant defined here
   --> crates/hir-ty/src/mir/lower.rs:116:5
    |
116 |     GenericArgNotProvided(TypeOrConstParamId, Substitution),
    |     ^^^^^^^^^^^^^^^^^^^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/mir/monomorphization.rs:197:37
    |
183 | ...                   MirLowerError::GenericArgNotProvided(
    |                       ------------------------------------ arguments to this enum variant are incorrect
...
197 | ...                       self.subst.clone(),
    |                           ^^^^^^^^^^^^^^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/mir/monomorphization.rs:197:37
    |
197 | ...                   self.subst.clone(),
    |                       ^^^^^^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: tuple variant defined here
   --> crates/hir-ty/src/mir/lower.rs:116:5
    |
116 |     GenericArgNotProvided(TypeOrConstParamId, Substitution),
    |     ^^^^^^^^^^^^^^^^^^^^^

error[E0308]: mismatched types
   --> crates/hir-ty/src/mir/monomorphization.rs:210:81
    |
210 | ...                   crate::ConstScalar::UnevaluatedConst(*const_id, subst),
    |                       ------------------------------------            ^^^^^ expected `Substitution<Interner>`, found `&Substitution<Interner>`
    |                       |
    |                       arguments to this enum variant are incorrect
    |
    = note: expected struct `chalk_ir::Substitution<_>`
            found reference `&chalk_ir::Substitution<_>`
note: `chalk_ir::Substitution<interner::Interner>` does not implement `Clone`, so `&chalk_ir::Substitution<interner::Interner>` was cloned instead
   --> crates/hir-ty/src/mir/monomorphization.rs:207:45
    |
207 | ...                   let mut subst = subst.clone();
    |                                       ^^^^^
    = help: `Clone` is not implemented because the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
note: tuple variant defined here
   --> crates/hir-ty/src/lib.rs:274:5
    |
274 |     UnevaluatedConst(GeneralConstId, Substitution),
    |     ^^^^^^^^^^^^^^^^

error[E0369]: binary operation `==` cannot be applied to type `&chalk_ir::Substitution<interner::Interner>`
   --> crates/hir-ty/src/mir.rs:337:20
    |
331 | #[derive(Debug, PartialEq, Eq, Clone)]
    |                 --------- in this derive macro expansion
...
337 |     Adt(VariantId, Substitution),
    |                    ^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/mir.rs:337:20
    |
331 | #[derive(Debug, PartialEq, Eq, Clone)]
    |                            -- in this derive macro expansion
...
337 |     Adt(VariantId, Substitution),
    |                    ^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::cmp::Eq`
note: required by a bound in `AssertParamIsEq`
   --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/cmp.rs:363:31
    |
363 | pub struct AssertParamIsEq<T: Eq + ?Sized> {
    |                               ^^ required by this bound in `AssertParamIsEq`
    = note: this error originates in the derive macro `Eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/mir.rs:337:20
    |
331 | #[derive(Debug, PartialEq, Eq, Clone)]
    |                                ----- in this derive macro expansion
...
337 |     Adt(VariantId, Substitution),
    |                    ^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/lib.rs:274:38
    |
269 | #[derive(Debug, Clone, PartialEq, Eq)]
    |                 ----- in this derive macro expansion
...
274 |     UnevaluatedConst(GeneralConstId, Substitution),
    |                                      ^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::clone::Clone`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::clone::Clone`
    = note: this error originates in the derive macro `Clone` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0369]: binary operation `==` cannot be applied to type `&chalk_ir::Substitution<interner::Interner>`
   --> crates/hir-ty/src/lib.rs:274:38
    |
269 | #[derive(Debug, Clone, PartialEq, Eq)]
    |                        --------- in this derive macro expansion
...
274 |     UnevaluatedConst(GeneralConstId, Substitution),
    |                                      ^^^^^^^^^^^^
    |
note: an implementation of `Internable` might be missing for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
   --> crates/hir-ty/src/interner.rs:31:1
    |
31  | pub struct InternedWrapper<T>(pub(crate) T);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ must implement `Internable`
note: the trait `Internable` must be implemented
   --> /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:193:1
    |
193 | pub trait Internable: Hash + Eq + 'static {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the derive macro `PartialEq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` is not satisfied
   --> crates/hir-ty/src/lib.rs:274:38
    |
269 | #[derive(Debug, Clone, PartialEq, Eq)]
    |                                   -- in this derive macro expansion
...
274 |     UnevaluatedConst(GeneralConstId, Substitution),
    |                                      ^^^^^^^^^^^^ the trait `Internable` is not implemented for `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>`
    |
    = help: the following other types implement trait `Internable`:
              InternedWrapper<(SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>, rustc_type_ir::TypeFlags, rustc_type_ir::DebruijnIndex)>
              InternedWrapper<ConstScalar>
              InternedWrapper<SmallVec<[GenericDefId; 2]>>
              InternedWrapper<SmallVec<[chalk_ir::Variance; 16]>>
              InternedWrapper<SmallVec<[generic_arg::GenericArg; 2]>>
              InternedWrapper<SmallVec<[next_solver::interner::BoundVarKind; 2]>>
              InternedWrapper<SmallVec<[predicate::Clause; 2]>>
              InternedWrapper<SmallVec<[rustc_type_ir::Binder<next_solver::interner::DbInterner, rustc_type_ir::ExistentialPredicate<next_solver::interner::DbInterner>>; 2]>>
            and 14 others
    = note: required for `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>` to implement `std::cmp::Eq`
    = note: 1 redundant requirement hidden
    = note: required for `chalk_ir::Substitution<interner::Interner>` to implement `std::cmp::Eq`
note: required by a bound in `AssertParamIsEq`
   --> /home/gh-jackh726/.rustup/toolchains/nightly-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/cmp.rs:363:31
    |
363 | pub struct AssertParamIsEq<T: Eq + ?Sized> {
    |                               ^^ required by this bound in `AssertParamIsEq`
    = note: this error originates in the derive macro `Eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: the method `clone` exists for struct `Substitution<Interner>`, but its trait bounds were not satisfied
    --> crates/hir-ty/src/lib.rs:920:37
     |
920  |           Some(trait_ref.substitution.clone()),
     |                                       ^^^^^ method cannot be called on `Substitution<Interner>` due to unsatisfied trait bounds
     |
    ::: /home/gh-jackh726/rust-analyzer/crates/intern/src/lib.rs:26:1
     |
26   |   pub struct Interned<T: Internable + ?Sized> {
     |   ------------------------------------------- doesn't satisfy `_: Clone`
     |
    ::: /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/lib.rs:3015:1
     |
3015 | / interned_slice!(
3016 | |     Substitution,
3017 | |     substitution_data => GenericArg<I>,
3018 | |     intern_substitution => InternedSubstitution
3019 | | );
     | |_- doesn't satisfy `_: Clone`
     |
     = note: the following trait bounds were not satisfied:
             `Interned<InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>>: std::clone::Clone`
             which is required by `chalk_ir::Substitution<interner::Interner>: std::clone::Clone`

error[E0507]: cannot move out of a shared reference
   --> crates/hir-ty/src/mir/monomorphization.rs:66:35
    |
66  |                     substitution: subst.clone().try_fold_with(self, outer_binder)?,
    |                                   ^^^^^^^^^^^^^ --------------------------------- value moved due to this method call
    |                                   |
    |                                   move occurs because value has type `chalk_ir::Substitution<interner::Interner>`, which does not implement the `Copy` trait
    |
note: `chalk_ir::fold::TypeFoldable::try_fold_with` takes ownership of the receiver `self`, which moves value
   --> /home/gh-jackh726/.cargo/git/checkouts/chalk-af2ed8365b2aac89/3bca92e/chalk-ir/src/fold.rs:620:9
    |
620 |         self,
    |         ^^^^
help: you could `clone` the value and consume it, if the `InternedWrapper<SmallVec<[chalk_ir::GenericArg<interner::Interner>; 2]>>: Internable` trait bound could be satisfied
    |
66  |                     substitution: <chalk_ir::Substitution<interner::Interner> as Clone>::clone(&subst).try_fold_with(self, outer_binder)?,
    |                                   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++     ~

error[E0507]: cannot move out of a shared reference
  --> crates/hir-ty/src/mir/monomorphization.rs:72:29
   |
72 |                 let subst = subst.clone().try_fold_with(self.as_dyn(), outer_binder)?;
   |                             ^^^^^^^^^^^^^ move occurs because value has type `chalk_ir::Substitution<interner::Interner>`, which does not implement the `Copy` trait

Some errors have detailed explanations: E0277, E0308, E0369, E0507, E0599, E0609.
For more information about an error, try `rustc --explain E0277`.
error: could not compile `hir-ty` (lib) due to 121 previous errors
